{{define "title"}}Change Password{{end}}

{{define "main"}}
    <h2>Change Password</h2>

    <form action='/account/password/update' method='POST' novalidate>

        <!-- Include the CSRF token -->
        <input type='hidden' name='csrf_token' value='{{.CSRFToken}}'>
           
        <div>
            <label>Current password:</label>

            {{with .Form.FieldErrors.currentPassword}}
                <label class='error'>{{.}}</label>
            {{end}}
            {{with .Form.FieldErrors.current}}
                <label class='error'>{{.}}</label>
            {{end}}

            <input type='password' name='current'>
        </div>

        <div>
            <label>New password:</label>

            {{with .Form.FieldErrors.newPasswordEquality}}
                <label class='error'>{{.}}</label>
            {{end}}
            {{with .Form.FieldErrors.new}}
                <label class='error'>{{.}}</label>
            {{end}}

            <input type='password' name='new'>
        </div>

        <div>
            <label>Confirm new password:</label>

            {{with .Form.FieldErrors.newPasswordConfirmation}}
                <label class='error'>{{.}}</label>
            {{end}}
            {{with .Form.FieldErrors.confirmation}}
                <label class='error'>{{.}}</label>
            {{end}}
            
            <input type='password' name='confirmation'>
        </div>
        
        <div>
            <input type='submit' value='Change Password'>
        </div>
    </form>
{{end}}
